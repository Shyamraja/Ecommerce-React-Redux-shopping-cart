{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shyam\\\\Desktop\\\\Ecommerce shopping cart\\\\Ecommerce-React-Redux-shopping-cart\\\\src\\\\App.js\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport data from \"./data.json\";\nimport Products from \"./components/Products\";\nimport Filter from \"./components/Filter\";\nimport Cart from \"./components/Cart\";\nimport store from \"./store\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.addToCart = product => {\n      const ProductsInCart = this.state.ProductsInCart.slice();\n      let alreadyInCart = false;\n      ProductsInCart.forEach(item => {\n        if (item._id === product._id) {\n          item.count++;\n          alreadyInCart = true;\n        }\n      });\n\n      if (!alreadyInCart) {\n        ProductsInCart.push({ ...product,\n          count: 1\n        });\n      }\n\n      this.setState({\n        ProductsInCart\n      });\n      localStorage.setItem(\"ProductsInCart\", JSON.stringify(this.state.ProductsInCart));\n    };\n\n    this.removeFromCart = product => {\n      const ProductsInCart = this.state.ProductsInCart.slice();\n      this.setState({\n        ProductsInCart: ProductsInCart.filter(x => x._id !== product._id)\n      });\n      localStorage.setItem(\"ProductsInCart\", JSON.stringify(ProductsInCart.filter(x => x._id !== product._id)));\n    };\n\n    this.sortingPriceOfProducts = event => {\n      const sort = event.target.value;\n      console.log(event.target.value);\n      this.setState(state => ({\n        sortPrice: sort,\n        products: this.state.products.slice().sort((a, b) => sort === \"lowestToHighest\" ? a.price > b.price ? 1 : -1 : sort === \"highestToLowest\" ? a.price < b.price ? 1 : -1 : a._id < b._id ? 1 : -1)\n      }));\n    };\n\n    this.filteringSizeOfProducts = event => {\n      console.log(event.target.value);\n\n      if (event.target.value === \"\") {\n        this.setState({\n          size: event.target.value,\n          products: data.products\n        });\n      } else {\n        this.setState({\n          size: event.target.value,\n          products: data.products.filter(product => product.availableSizes.indexOf(event.target.value) >= 0)\n        });\n      }\n    };\n\n    this.createOrder = order => {\n      alert(\"Save Order for\" + order.name);\n    };\n\n    this.state = {\n      products: data.products,\n      ProductsInCart: localStorage.getItem(\"ProductsInCart\") ? JSON.parse(localStorage.getItem(\"ProductsInCart\")) : [],\n      size: \"\",\n      sortPrice: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Provider, {\n      store: store,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"WELCOME TO OUR EXPRESS SHOP\")), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Filter, {\n      count: this.state.products.length,\n      size: this.state.size,\n      sortPrice: this.state.sort,\n      filterProductsSize: this.filteringSizeOfProducts,\n      sortProductsPrice: this.sortingPriceOfProducts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Products, {\n      products: this.state.products,\n      addToCart: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Cart, {\n      ProductsInCart: this.state.ProductsInCart,\n      removeFromCart: this.removeFromCart,\n      createOrder: this.createOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"footer\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, \"All right is reserved.\")));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/shyam/Desktop/Ecommerce shopping cart/Ecommerce-React-Redux-shopping-cart/src/App.js"],"names":["React","Provider","data","Products","Filter","Cart","store","App","Component","constructor","addToCart","product","ProductsInCart","state","slice","alreadyInCart","forEach","item","_id","count","push","setState","localStorage","setItem","JSON","stringify","removeFromCart","filter","x","sortingPriceOfProducts","event","sort","target","value","console","log","sortPrice","products","a","b","price","filteringSizeOfProducts","size","availableSizes","indexOf","createOrder","order","alert","name","getItem","parse","render","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport data from \"./data.json\";\nimport Products from \"./components/Products\";\nimport Filter from \"./components/Filter\";\nimport Cart from \"./components/Cart\";\nimport store from \"./store\";\n\n\nclass App extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n         products: data.products,\n         ProductsInCart: localStorage.getItem(\"ProductsInCart\")\n         ? JSON.parse(localStorage.getItem(\"ProductsInCart\"))\n         : [],\n         size: \"\",\n         sortPrice: \"\",\n      };\n    }   \n    addToCart = (product) => {\n      const ProductsInCart = this.state.ProductsInCart.slice();\n      let alreadyInCart = false;\n      ProductsInCart.forEach((item) => {\n        if (item._id === product._id) {\n          item.count++;\n          alreadyInCart = true;\n        }\n      });\n      if(!alreadyInCart) {\n        ProductsInCart.push({...product, count: 1 });\n      }\n      this.setState({ ProductsInCart });\n      localStorage.setItem(\"ProductsInCart\", JSON.stringify(this.state.ProductsInCart));\n    };\n    removeFromCart = (product) => {\n      const ProductsInCart = this.state.ProductsInCart.slice();\n      this.setState({\n        ProductsInCart: ProductsInCart.filter((x) => x._id !== product._id),\n      });\n      localStorage.setItem(\n        \"ProductsInCart\", \n        JSON.stringify(ProductsInCart.filter((x) => x._id !== product._id))\n        );\n    };\n    sortingPriceOfProducts = (event) => {\n      const sort = event.target.value;\n      console.log(event.target.value);\n      this.setState((state) => ({\n         sortPrice: sort,\n         products: this.state.products\n          .slice()\n          .sort((a, b) =>\n            sort === \"lowestToHighest\"\n              ? a.price > b.price\n                ? 1\n                : -1\n               : sort === \"highestToLowest\"\n              ? a.price < b.price\n                ? 1\n                : -1\n               : a._id < b._id\n              ? 1\n              : -1\n          ),\n       }));\n    };\n    filteringSizeOfProducts = (event) => {\n      console.log(event.target.value);\n      if (event.target.value === \"\") {\n        this.setState({ size: event.target.value, products: data.products });\n      } else {\n        this.setState({\n           size: event.target.value,\n           products: data.products.filter(\n             (product) => product.availableSizes.indexOf(event.target.value) >= 0\n           ),\n         });\n       }\n     };\n     createOrder = (order) => {\n       alert(\"Save Order for\" + order.name);\n     };\n    render() {\n      return (\n        <Provider store={store}>\n        <div className=\"grid-container\">\n          <header>\n            <a href=\"/\">WELCOME TO OUR EXPRESS SHOP</a>\n          </header>\n          <main>\n            <div className=\"content\">\n              <div className=\"main\">\n                <Filter\n                   count={this.state.products.length}\n                   size={this.state.size}\n                   sortPrice={this.state.sort}\n                   filterProductsSize={this.filteringSizeOfProducts}\n                   sortProductsPrice={this.sortingPriceOfProducts}>\n                </Filter>\n                <Products \n                   products={this.state.products} \n                   addToCart={this.addToCart}>\n                </Products>\n              </div>\n              <div className=\"sidebar\">\n                  <Cart \n                    ProductsInCart={this.state.ProductsInCart} \n                    removeFromCart={this.removeFromCart}\n                    createOrder={this.createOrder}\n                  />\n              </div>\n           </div>\n          </main>\n          <footer>All right is reserved.</footer>\n        </div>\n      </Provider>  \n      );\n    }\n }\nexport default App;"]},"metadata":{},"sourceType":"module"}